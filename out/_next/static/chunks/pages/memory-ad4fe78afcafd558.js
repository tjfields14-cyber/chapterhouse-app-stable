(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[32],{2848:function(e){function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=function(){return[]},t.resolve=t,t.id=2848,e.exports=t},3756:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/memory",function(){return n(2239)}])},9814:function(e,t,n){"use strict";n.d(t,{s:function(){return i}});var a=n(1608),s=n(3454);let r=null;function i(e,t){let n=(e||s.env.NEXT_PUBLIC_SUPABASE_URL||"").trim(),i=(t||s.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||"").trim();if(!n||!i)throw Error("Missing Supabase env vars. Set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY.");return r||(r=(0,a.eI)(n,i,{auth:{persistSession:!1,storageKey:"chapterhouse_widget"}})),r}},2239:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(5893),s=n(7294),r=n(9814);function i(){let[e,t]=s.useState(""),[n,i]=s.useState(""),[o,l]=s.useState(""),[u,c]=s.useState([]);async function _(){try{(0,r.s)(e,n),localStorage.setItem("ch_supabase_url",e),localStorage.setItem("ch_supabase_anon",n),await f()}catch(e){alert(e.message||String(e))}}async function d(){let t=(0,r.s)(e,n);await t.from("bff_notes").insert([{content:o.trim()||"memory smoke test"}]),l(""),await f()}async function f(){let t=(0,r.s)(e,n),{data:a,error:s}=await t.from("bff_notes").select("*").order("created_at",{ascending:!1}).limit(50);if(s){alert(s.message);return}c(a)}return s.useEffect(()=>{let e=localStorage.getItem("ch_supabase_url")||"",n=localStorage.getItem("ch_supabase_anon")||"";t(e),i(n)},[]),(0,a.jsxs)("main",{style:{padding:24,fontFamily:"ui-sans-serif, system-ui"},children:[(0,a.jsx)("h1",{children:"Memory Smoke Test"}),(0,a.jsxs)("div",{style:{display:"grid",gap:8,maxWidth:640},children:[(0,a.jsx)("input",{placeholder:"Supabase URL",value:e,onChange:e=>t(e.target.value)}),(0,a.jsx)("input",{placeholder:"Supabase anon key",value:n,onChange:e=>i(e.target.value)}),(0,a.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,a.jsx)("button",{onClick:_,children:"Connect"}),(0,a.jsx)("input",{placeholder:"note to save",value:o,onChange:e=>l(e.target.value),style:{flex:1}}),(0,a.jsx)("button",{onClick:d,children:"Save"}),(0,a.jsx)("button",{onClick:f,children:"Refresh"})]}),(0,a.jsx)("ul",{children:u.map(e=>(0,a.jsxs)("li",{children:[(0,a.jsx)("code",{children:new Date(e.created_at).toLocaleString()})," â€” ",e.content]},e.id))})]})]})}}},function(e){e.O(0,[608,888,774,179],function(){return e(e.s=3756)}),_N_E=e.O()}]);